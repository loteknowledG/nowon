import{r as t,_ as j,j as s}from"./index-DZ2O0f1h.js";const p=(l="")=>`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}${l}`;function J(){const[l,x]=t.useState([{id:p(),role:"system",text:"Figlet TUI — type `help` for commands. Try: `figlet hello`"}]),[g,h]=t.useState(""),[I,k]=t.useState([]),[E,C]=t.useState(-1),[H,P]=t.useState([]),[c,m]=t.useState("Standard"),[v,a]=t.useState(!1),[y,S]=t.useState([]),[z,L]=t.useState(12),[F,$]=t.useState(!1),[D,N]=t.useState([]),[O,W]=t.useState(""),[A,B]=t.useState(!0);t.useRef(null),t.useRef(!1);const d=t.useRef(null),f=t.useRef(null),[U,Y]=t.useState(!1),[V,q]=t.useState(0);t.useEffect(()=>{var e;(e=f.current)==null||e.focus()},[]),t.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[l,F]),t.useEffect(()=>{j(()=>import("./figlet-Dsjz5JCJ.js"),[]).then(e=>{(e&&e.default||e).fonts((r,i)=>{!r&&i&&S(i)})})},[]);function n(e){x(o=>[...o,{id:p(),...e}])}const R=e=>{const o=e.trim();if(!o)return;n({role:"user",text:o});const[r,...i]=o.split(/\s+/);if(r==="clear"){x([{id:p(),role:"system",text:"Figlet TUI — type `help` for commands."}]);return}if(r==="help"){n({role:"system",text:"Commands: figlet [-s] <text>, font <name>, font-select, size <n>, list-fonts [q], clear, help"});return}if(r==="font-select"){a(!0);return}if(r==="font"&&i.length>0){m(i.join(" ")),n({role:"system",text:`Font set to: ${i.join(" ")}`});return}if(r==="figlet"){j(()=>import("./figlet-Dsjz5JCJ.js"),[]).then(u=>{const T=u&&u.default||u,_=i.join(" ");T.text(_,{font:c},(w,b)=>{n(w||!b?{role:"assistant",text:"Error rendering figlet."}:{role:"assistant",text:`
`+b})})}).catch(()=>{n({role:"assistant",text:"Figlet library not found."})});return}n({role:"assistant",text:`You typed: ${o}`})};return s.jsxs("div",{className:"ai-tui",style:{minHeight:320,height:"80vh",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column",background:"#181828",color:"#fff"},children:[v&&s.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.6)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{style:{background:"#222",color:"#fff",borderRadius:10,padding:24,minWidth:320,maxHeight:"70vh",overflowY:"auto",boxShadow:"0 4px 32px #0008"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[s.jsx("strong",{children:"Select a Font"}),s.jsx("button",{onClick:()=>a(!1),style:{background:"none",border:"none",color:"#fff",fontSize:20,cursor:"pointer"},children:"×"})]}),s.jsxs("div",{style:{maxHeight:320,overflowY:"auto"},children:[y.length===0&&s.jsx("div",{children:"Loading fonts..."}),y.map(e=>s.jsx("div",{style:{padding:"6px 0",cursor:"pointer",color:e===c?"#7b61ff":"#fff",fontWeight:e===c?"bold":"normal"},onClick:()=>{m(e),a(!1),n({role:"system",text:`Font set to: ${e}`}),setTimeout(()=>{var o;(o=f.current)==null||o.focus()},0)},children:e},e))]})]})}),s.jsxs("div",{className:"tui-header",style:{padding:16,borderBottom:"1px solid #333",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Figlet TUI"}),s.jsxs("div",{style:{fontSize:12,color:"#aaa"},children:["Type commands (e.g. ",s.jsx("code",{children:"figlet hello"}),")"]})]}),s.jsx("button",{onClick:()=>a(!0),style:{background:"#7b61ff",color:"#fff",border:"none",borderRadius:6,padding:"6px 16px",fontWeight:"bold",cursor:"pointer"},children:"Font"})]}),s.jsx("div",{ref:d,style:{flex:1,overflow:"auto",padding:16},children:l.map(e=>s.jsxs("div",{style:{marginBottom:8},children:[s.jsxs("span",{style:{color:e.role==="user"?"#0ff":e.role==="assistant"?"#7b61ff":"#aaa",fontWeight:"bold"},children:[e.role,":"]}),s.jsx("pre",{style:{display:"inline",marginLeft:8},children:e.text})]},e.id))}),s.jsxs("form",{style:{display:"flex",borderTop:"1px solid #333",padding:12},onSubmit:e=>{e.preventDefault(),R(g),h("")},children:[s.jsx("input",{ref:f,className:"tui-input",value:g,onChange:e=>h(e.target.value),style:{flex:1,padding:"8px 12px",borderRadius:6,border:"1px solid #444",background:"#222",color:"#fff",marginRight:8},placeholder:"Type command — try: figlet hello"}),s.jsx("button",{type:"submit",className:"btn",style:{padding:"8px 16px",borderRadius:6,background:"#7b61ff",color:"#fff",border:"none"},children:"Send"})]})]})}export{J as default};
