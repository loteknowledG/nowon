import{r as t,j as e}from"./index-1lqBQfz8.js";const a=["Files","Processes","Logs","Settings","Help"];function k(){const u=t.useRef(null),[l,r]=t.useState("list"),[p,c]=t.useState(0),[o,i]=t.useState(a[0]),[x,d]=t.useState(!1),[f,h]=t.useState("confirm"),m=t.useRef(null);t.useEffect(()=>{var s;(s=u.current)==null||s.focus()},[]),t.useEffect(()=>{var s;l==="panel"&&((s=m.current)==null||s.focus())},[l]);const b=s=>(s+a.length)%a.length,y=s=>{if(x){if(s.key==="Escape"){s.preventDefault(),d(!1);return}if(s.key==="Tab"){s.preventDefault(),h(n=>n==="confirm"?"cancel":"confirm");return}if(s.key==="Enter"){s.preventDefault(),f==="confirm"?(d(!1),i(`${o} (action confirmed)`)):d(!1);return}return}if(s.key==="Tab"){s.preventDefault(),r(n=>n==="list"?"panel":n==="panel"?"controls":"list");return}l==="list"?s.key==="ArrowDown"?(c(n=>b(n+1)),s.preventDefault()):s.key==="ArrowUp"?(c(n=>b(n-1)),s.preventDefault()):s.key==="Enter"&&(i(a[p]),s.preventDefault()):l==="panel"?s.key==="Enter"&&(d(!0),h("confirm"),s.preventDefault()):l==="controls"&&s.key==="Enter"&&(i(n=>n?`${n} • refreshed`:"refreshed"),s.preventDefault())};return e.jsxs("div",{ref:u,tabIndex:0,onKeyDown:y,style:{padding:18,outline:"none"},"aria-label":"OpenTUI keyboard focus demo",children:[e.jsxs("div",{style:{display:"flex",gap:16},children:[e.jsxs("div",{style:{width:220},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[e.jsx("strong",{children:"OpenTUI — keyboard demo"}),e.jsxs("small",{style:{color:"var(--muted)",fontSize:12},children:["Focus: ",l]})]}),e.jsx("div",{style:{display:"grid",gap:8},children:a.map((s,n)=>{const g=l==="list"&&p===n,j=o===s;return e.jsx("button",{onClick:()=>{c(n),r("list"),i(s)},className:j?"btn":"btn ghost",style:{textAlign:"left",padding:"8px 10px",borderRadius:8,boxShadow:g?"inset 0 0 0 2px rgba(123,97,255,0.18)":void 0},"aria-pressed":j,children:s},s)})}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8},children:[e.jsx("button",{className:"btn ghost",onClick:()=>{r("list"),c(0)},children:"Focus list"}),e.jsx("button",{className:"btn ghost",onClick:()=>r("panel"),children:"Open panel"})]})]}),e.jsxs("div",{style:{flex:1,padding:14,borderRadius:8,background:"rgba(0,0,0,0.04)",minHeight:180},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("strong",{children:["Panel — ",o]}),e.jsxs("div",{style:{color:"var(--muted)",fontSize:13},children:["Press ",e.jsx("kbd",{children:"Enter"})," to open modal"]})]}),e.jsxs("div",{style:{marginTop:12},children:[e.jsx("label",{style:{display:"block",color:"var(--muted)",marginBottom:6},children:"Quick note for this item"}),e.jsx("input",{ref:m,value:o??"",onChange:s=>i(s.target.value),className:"tui-input",style:{width:"100%",padding:"8px 10px",borderRadius:8}})]}),e.jsxs("div",{style:{marginTop:14,color:"var(--muted)"},children:[e.jsx("div",{children:"Interactive demo of keyboard focus and modal traps."}),e.jsxs("div",{style:{marginTop:6},children:["Try: Arrow keys (list), ",e.jsx("kbd",{children:"Tab"})," to move regions, ",e.jsx("kbd",{children:"Enter"})," to act, ",e.jsx("kbd",{children:"Esc"})," to close modal."]})]})]}),e.jsxs("div",{style:{width:260},children:[e.jsx("div",{style:{fontSize:13,color:"var(--muted)"},children:e.jsx("strong",{children:"Keybindings"})}),e.jsxs("ul",{style:{marginTop:8,color:"var(--muted)",lineHeight:1.8},children:[e.jsxs("li",{children:[e.jsx("kbd",{children:"ArrowUp / ArrowDown"})," — navigate list"]}),e.jsxs("li",{children:[e.jsx("kbd",{children:"Tab"})," — cycle focus regions"]}),e.jsxs("li",{children:[e.jsx("kbd",{children:"Enter"})," — select / open / confirm"]}),e.jsxs("li",{children:[e.jsx("kbd",{children:"Esc"})," — close modal / cancel"]})]}),e.jsxs("div",{style:{marginTop:12},children:[e.jsx("button",{className:"btn",onClick:()=>{var s;r("list"),c(0),(s=u.current)==null||s.focus()},children:"Focus demo"}),e.jsx("button",{className:"btn ghost",onClick:()=>{i("Files"),r("panel")},children:"Select Files"})]})]})]}),x&&e.jsx("div",{role:"dialog","aria-modal":!0,style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{width:520,background:"var(--panel)",padding:18,borderRadius:12,border:"1px solid rgba(255,255,255,0.04)"},children:[e.jsxs("strong",{children:["Confirm action for ",o]}),e.jsxs("p",{style:{color:"var(--muted)",marginTop:8},children:["This simulates a modal focus trap. Use ",e.jsx("kbd",{children:"Tab"})," to switch buttons and ",e.jsx("kbd",{children:"Enter"})," to confirm."]}),e.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[e.jsx("button",{className:f==="confirm"?"btn":"btn ghost",onClick:()=>{i(`${o} (confirmed)`),d(!1)},children:"Confirm"}),e.jsx("button",{className:f==="cancel"?"btn":"btn ghost",onClick:()=>d(!1),children:"Cancel"})]})]})})]})}export{k as default};
