import{r,R as b,j as e}from"./index-1lqBQfz8.js";const g=i=>Array.from({length:i},(l,n)=>({id:n+1,name:`task-${n+1}`,cpu:Math.round(Math.random()*100)}));function R(){const[i,l]=r.useState(()=>g(12)),[n,y]=r.useState(!1),[j,f]=r.useState(0),[h,v]=r.useState(()=>window.innerWidth),u=b.useRef(null),x=b.useRef(null),[p,o]=r.useState(0);r.useEffect(()=>{const t=()=>v(window.innerWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),r.useEffect(()=>{o(t=>Math.max(0,Math.min(t,i.length-1)))},[i]);const m=r.useMemo(()=>h<900?"narrow":"wide",[h]),w=t=>{var s,a;if(t.key==="ArrowDown"){t.preventDefault();const c=Math.min(i.length-1,p+1);o(c);const d=(s=x.current)==null?void 0:s.querySelectorAll("tbody tr")[c];d==null||d.scrollIntoView({block:"nearest"})}else if(t.key==="ArrowUp"){t.preventDefault();const c=Math.max(0,p-1);o(c);const d=(a=x.current)==null?void 0:a.querySelectorAll("tbody tr")[c];d==null||d.scrollIntoView({block:"nearest"})}};return e.jsxs("div",{ref:u,tabIndex:0,onKeyDown:w,style:{padding:16,outline:"none"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"reactive_tui — browser prototype"}),e.jsxs("div",{style:{color:"var(--muted)",fontSize:13},children:["Responsive CSS-driven layout (breakpoint: ",m,")"]})]}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("label",{style:{color:"var(--muted)",fontSize:13},children:"Density"}),e.jsx("button",{className:n?"btn":"btn ghost",onClick:()=>y(t=>!t),children:n?"Dense":"Comfort"}),e.jsx("button",{className:"btn ghost",onClick:()=>l(t=>g(t.length+5)),children:"Add rows"}),e.jsx("button",{className:"btn ghost",onClick:()=>l(()=>g(12)),children:"Reset rows"}),e.jsx("button",{className:"btn ghost",onClick:()=>{var t;(t=u.current)==null||t.focus(),o(0)},children:"Focus table"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:m==="narrow"?"1fr":"220px 1fr 320px",gap:14,marginTop:14,alignItems:"start"},children:[e.jsxs("aside",{style:{borderRadius:10,padding:10,border:"1px solid rgba(255,255,255,0.03)",background:"var(--panel)"},children:[e.jsx("div",{style:{fontSize:13,color:"var(--muted)",marginBottom:8},children:"Sidebar"}),e.jsx("div",{style:{display:"grid",gap:8},children:["Overview","Workers","Queue","Metrics","Settings"].map((t,s)=>e.jsx("button",{className:s===j?"btn":"btn ghost",onClick:()=>f(s),style:{textAlign:"left",padding:n?"6px 8px":"10px 12px"},children:t},t))})]}),e.jsxs("main",{style:{borderRadius:10,padding:14,border:"1px solid rgba(255,255,255,0.03)",background:"linear-gradient(180deg, rgba(0,0,0,0.02), transparent)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("strong",{children:"Tasks"}),e.jsxs("div",{style:{color:"var(--muted)",fontSize:13},children:[i.length," rows · focus: ",p+1]})]}),e.jsx("div",{style:{marginTop:12,overflow:"auto",maxHeight:300},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontFamily:"Hack, monospace"},children:[e.jsx("thead",{style:{color:"var(--muted)",fontSize:13},children:e.jsxs("tr",{children:[e.jsx("th",{style:{textAlign:"left",padding:"6px 8px"},children:"ID"}),e.jsx("th",{style:{textAlign:"left",padding:"6px 8px"},children:"Name"}),e.jsx("th",{style:{textAlign:"left",padding:"6px 8px"},children:"CPU %"})]})}),e.jsx("tbody",{ref:x,children:i.map((t,s)=>{const a=s===p;return e.jsxs("tr",{onClick:()=>o(s),"aria-selected":a,style:{background:a?"linear-gradient(90deg, rgba(123,97,255,0.06), rgba(0,230,168,0.02))":"transparent",borderLeft:a?"4px solid rgba(123,97,255,0.38)":void 0,transition:"background .12s ease"},children:[e.jsx("td",{style:{padding:n?"4px 8px":"8px 8px"},children:t.id}),e.jsxs("td",{style:{padding:n?"4px 8px":"8px 8px",position:"relative"},children:[a?e.jsx("span",{style:{display:"inline-block",width:8,height:18,background:"rgba(123,97,255,0.9)",borderRadius:2,marginRight:8,verticalAlign:"middle"}}):e.jsx("span",{style:{display:"inline-block",width:8,height:18,marginRight:8,verticalAlign:"middle"}}),t.name]}),e.jsxs("td",{style:{padding:n?"4px 8px":"8px 8px"},children:[t.cpu,"%"]})]},t.id)})})]})}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8},children:[e.jsx("button",{className:"btn ghost",onClick:()=>l(t=>t.map(s=>({...s,cpu:Math.round(Math.random()*100)}))),children:"Randomize"}),e.jsx("button",{className:"btn",onClick:()=>l(t=>t.slice(0,Math.max(1,t.length-3))),children:"Trim"})]})]}),e.jsxs("aside",{style:{borderRadius:10,padding:12,border:"1px solid rgba(255,255,255,0.03)",background:"var(--panel)"},children:[e.jsx("div",{style:{fontSize:13,color:"var(--muted)"},children:e.jsx("strong",{children:"Chart"})}),e.jsx("div",{style:{height:160,marginTop:8,background:"linear-gradient(180deg, rgba(123,97,255,0.06), rgba(0,230,168,0.03))",borderRadius:8},children:e.jsx("div",{style:{padding:10,color:"rgba(0,0,0,0.6)"},children:"[placeholder sparkline]"})}),e.jsxs("div",{style:{marginTop:12,color:"var(--muted)",fontSize:13},children:[e.jsx("div",{style:{marginBottom:8},children:e.jsx("strong",{children:"Layout CSS"})}),e.jsx("pre",{style:{background:"transparent",color:"var(--muted)",fontSize:12},children:`.dashboard { display: grid; grid-template-columns: 220px 1fr 320px; gap: 1rem }
@media (max-width: 900px) { .dashboard { grid-template-columns: 1fr } }`})]})]})]})]})}export{R as default};
